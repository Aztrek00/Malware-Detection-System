import os
import tkinter as tk
from tkinter import messagebox, filedialog
import threading

# Malware detection logic
def scan_for_malware(file_path):
    # Placeholder for actual malware detection logic
    # For demonstration purposes, assume every file is clean
    return False

# Function to scan system for malware
def scan_system_for_malware():
    def scan_files():
        for root, dirs, files in os.walk('/'):
            for file in files:
                file_path = os.path.join(root, file)
                malware_detected = scan_for_malware(file_path)
                if malware_detected:
                    print("Malware Detected in:", file_path)
                    messagebox.showinfo('Malware Detected', f'Malware Detected in: {file_path}')
                else:
                    print("No Malware detected in:", file_path)

    scan_thread = threading.Thread(target=scan_files)
    scan_thread.start()

    # Provide feedback to the user about the ongoing process
    messagebox.showinfo('Scanning Started', 'System scan for malware has started. This may take some time.')

# Function to scan specific file or folder
# Function to scan specific file or folder
def scan_specific_file():
    choice = messagebox.askquestion("Scan File or Folder", "Do you want to scan a file?")
    if choice == 'yes':
        file_path = filedialog.askopenfilename()
        if file_path:
            malware_detected = scan_for_malware(file_path)
            if malware_detected:
                messagebox.showinfo('Malware Detected', f'Malware Detected in: {file_path}')
            else:
                messagebox.showinfo('No Malware Detected', f'No malware detected in: {file_path}')
    elif choice == 'no':
        folder_path = filedialog.askdirectory()
        if folder_path:
            total_files = sum([len(files) for _, _, files in os.walk(folder_path)])  # Total number of files in the folder
            files_scanned = 0  # Number of files scanned
            for root, dirs, files in os.walk(folder_path):
                for file in files:
                    file_path = os.path.join(root, file)
                    malware_detected = scan_for_malware(file_path)
                    if malware_detected:
                        print("Malware Detected in:", file_path)
                    else:
                        print("No Malware detected in:", file_path)
                    files_scanned += 1
                    # Check if all files are scanned
                    if files_scanned == total_files:
                        messagebox.showinfo('Scan Complete', 'Scanning of folder is complete.')

# App class
class MalwareScannerApp:
    def __init__(self, root):
        self.root = root
        self.root.title("Malware Scanner")
        self.root.geometry("400x400")  # Set initial size of the window

        scan_system_button = tk.Button(root, text='Scan System', command=scan_system_for_malware, bg='darkblue', fg='white', font=('Times New Roman', 12, 'bold'))
        scan_system_button.pack(pady=50)

        scan_file_button = tk.Button(root, text='Scan Specific File or Folder', command=scan_specific_file, bg='darkgreen', fg='white', font=('Times New Roman', 12, 'bold'))
        scan_file_button.pack(pady=50)

# Create Tkinter GUI
root = tk.Tk()
app = MalwareScannerApp(root)
root.mainloop()


